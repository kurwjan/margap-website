---
import { faArrowAltCircleRight } from '@fortawesome/free-regular-svg-icons'

const { heading, description, image, alt, button, position } = Astro.props
---

<aside>
    <div class="image-overlay">
        <img src={ image } alt={ alt } loading="eager" decoding="sync"/>
    </div>
    <div class="padding">
        <hgroup>
            <h1 set:html={heading}>
            </h1>
            <p>
                { description }
            </p>
        </hgroup>
        <a href={ button["href"] }>
            { button["text"] }
            <svg xmlns="http://www.w3.org/2000/svg" class="icon" height="19" width="19" viewBox="0 0 512 512"><path fill="#ffe9e9" d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"/></svg>
        </a>
    </div>
</aside>

<style define:vars={{position}}>
    aside {
        display: flex;
        flex-direction: column;

        font-family: "Open Sans", sans-serif;
    }

    .image-overlay::after {
        content: '';

        position: absolute;

        transform: translate(0, -15px);

        width: 100%;
        height: 45em;

        background: linear-gradient(to right, rgba(229, 232, 255, 1), rgba(229, 232, 255, .35));

        z-index: -1;
    }

    img {
        pointer-events: none;
        position: absolute;
        object-fit: cover;
        object-position: var(--position);

        transform: translate(0, -15px);

        width: 100%;
        height: 45em;

        z-index: -2;
    }

    .padding {
        display: flex;
        flex-direction: column;

        padding-top: 7rem;
        padding-bottom: 7rem;
        padding-left: max(5vw, 0.5rem);
    }

    hgroup {
        color: rgb(0, 24, 49);
    }

    h1 {
        font-size: 3.5rem;

        margin-top: 0;
        margin-bottom: 2rem;

        font-family: "Nunito", sans-serif;
    }

    p {
        font-size: 1.2rem;
        margin-bottom: 2rem;
        max-width: 34rem;
    }

    a {
        background-color: rgb(218, 68, 68);
        color: rgb(255, 233, 233);

        border-radius: 10px;

        font-family: "Open Sans", sans-serif;
        font-size: large;
        text-decoration: none;

        padding: 0.8rem 1.3rem;

        align-items: center;
        display: flex;
        max-width: fit-content;
    }

    a:hover {
        background-color: rgb(227, 94, 94);
    }

    .icon {
        padding-left: 0.7rem;
    }

    @media (max-width: 545px) {
        .padding {
            padding-left: 1em;
            padding-right: 1em;

            justify-items: center;
            align-items: center;
        }

        h1 {
            text-align: center;
        }

        p {
            text-align: center;
        }

        .image-overlay::after {
            background: linear-gradient(to bottom, rgba(229, 232, 255, 1), rgba(229, 232, 255, .6));
        }
    }

</style>